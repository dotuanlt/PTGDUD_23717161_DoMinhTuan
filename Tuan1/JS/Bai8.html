<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>Nhập số tiền của các hoá đơn <i>(cách nhau bởi dấu ",")</i>:</h3>
    <input id="bill" type="text" style="width: 200px; height: 25px;"> <br>
    <br>
    <button id="cal" style="font-size: 16px; background-color: aqua; font-weight: bold;">Caculate</button>

    <br><br>
    <span id="total"></span>
</body>

<script>
    var bill = document.getElementById("bill");
    var cal = document.getElementById("cal");
    var total = document.getElementById("total");
    var bills = [];
    var tips = [];
    var totals = [];

    cal.addEventListener("click", function() {
        var string = "";
        bills = bill.value.split(',');
        for(var i = 0; i < bills.length; i++) {
            var billValue = parseFloat(bills[i]);
            tips.push(calcTip(billValue));
            var sum = billValue + tips[i];
            totals.push(sum);
            string += `The bill ${i+1} was ${bills[i]}, the tip was ${tips[i]}, and the total value ${totals[i]} <br>`;
        }
        
        total.innerHTML = string;
    }) 

    function calcTip (billNumber) {
        return (billNumber >= 50 && billNumber <= 300) 
            ? (billNumber * 0.15) : (billNumber * 0.2);
    }


</script>
</html>
